<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMS Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .card {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <form action="/user/cms" method="post" encType="multipart/form-data">
            <h1 class="mb-4">CMS Form</h1>

            <!-- Navbar Section -->
            <h2>Navbar Section</h2>
            <div class="mb-4">
                <label for="logo" class="form-label">Logo Image</label>
                <input type="file" class="form-control" id="logo" name="logo_square" accept="image/*">
            </div>
            <div class="mb-4">
                <label for="navlinks" class="form-label">Navlinks (comma separated)</label>
                <input type="text" class="form-control" name="navlinks" id="navLinks" placeholder="Home, About, Services, Contact">
            </div>

            <hr class="mt-1 mb-1"/>
            
            <!-- Hero Section -->
            <h2>Hero Section</h2>
            <div class="mb-4">
                <label for="heroTitle" class="form-label">Title of Hero Section</label>
                <input type="text" class="form-control" id="heroTitle" name="heroTitle">
            </div>
            <div class="mb-4">
                <label for="heroSubTitle" class="form-label">Sub Title of Hero Section</label>
                <input type="text" class="form-control" id="heroSubTitle" name="heroSubTitle">
            </div>
            <div class="mb-4">
                <label for="heroParagraph" class="form-label">Paragraph Related to Hero Section</label>
                <textarea class="form-control" id="heroParagraph" name="heroParagraph" rows="3"></textarea>
            </div>

            <div class="mb-4">
                <label for="slider_bg" class="form-label">Slider Background</label>
                <input type="file" class="form-control" id="slider_bg" name="sliderBg" accept="image/*">
            </div>

            <div class="mb-4">
                <label for="heroButtonLink" class="form-label">Link Button URL</label>
                <input type="url" class="form-control" id="heroButtonLink" name="heroButtonLink" placeholder="https://example.com">
            </div>
    
            <hr class="mt-1 mb-1"/>
            
            <!-- Activities Section -->
            <h2>Activities Section</h2>
    
            <!-- Pre-Primary Activities -->
            <h3>Pre-Primary Activities</h3>
            <div id="prePrimaryCards" class="mb-4"></div>
            <button class="btn btn-secondary mb-4" id="addPrePrimaryCard" type="button">Add Pre-Primary Card</button>
    
            <!-- Primary Activities -->
            <h3>Primary Activities</h3>
            <div id="primaryCards" class="mb-4"></div>
            <button class="btn btn-secondary mb-4" id="addPrimaryCard" type="button">Add Primary Card</button>
    
            <button type="submit" class="btn btn-primary">Submit</button>

            
            <hr class="mt-1 mb-1"/>
            
            <!-- About Us -->
            <h2>About Us Section</h2>
            <div class="mb-4">
                <label for="aboutUsTitle" class="form-label">Title</label>
                <input type="text" class="form-control" id="aboutUsTitle" name="aboutUsTitle" placeholder="Enter title">
            </div>
            <div class="mb-4">
                <label for="aboutUsSubtitle" class="form-label">Subtitle</label>
                <input type="text" class="form-control" id="aboutUsSubtitle" name="aboutUsSubtitle" placeholder="Enter subtitle">
            </div>
            <div class="mb-4">
                <label for="aboutUsParagraph" class="form-label">Paragraph</label>
                <textarea class="form-control" id="aboutUsParagraph" name="aboutUsParagraph" rows="4" placeholder="Write about us..."></textarea>
            </div>
            <div class="mb-4">
                <label for="aboutUsImage" class="form-label">Image</label>
                <input type="file" class="form-control" id="aboutUsImage" name="aboutUsImage" accept="image/*">
            </div>

            <!-- TODO -->
            <!-- Our Philosophy -->
        </form>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>

    /*
    const form = document.querySelector("form")
    form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const formData = {
        logo: document.getElementById('logo').files[0] ? document.getElementById('logo').files[0] : null,
        navlinks: document.getElementById('navlinks').value.split(',').map(link => link.trim()),
        heroTitle: document.getElementById('heroTitle').value,
        heroSubTitle: document.getElementById('heroSubTitle').value,
        heroParagraph: document.getElementById('heroParagraph').value,
        heroButtonLink: document.getElementById('heroButtonLink').value,
        prePrimaryActivities: [],
        primaryActivities: []
        };

        // Collect Pre-Primary Activities
        const prePrimaryCards = document.querySelectorAll('#prePrimaryCards .card');
        prePrimaryCards.forEach(card => {
            const activityTitle = card.querySelector('input[type="text"]').value;
            const activityImage = card.querySelector('input[type="file"]').files[0] ? card.querySelector('input[type="file"]').files[0].name : null;

            formData.prePrimaryActivities.push({
                title: activityTitle,
                image: activityImage
            });
        });

        // Collect Primary Activities
        const primaryCards = document.querySelectorAll('#primaryCards .card');
        primaryCards.forEach(card => {
            const activityTitle = card.querySelector('input[type="text"]').value;
            const activityImage = card.querySelector('input[type="file"]').files[0] ? card.querySelector('input[type="file"]').files[0].name : null;

            formData.primaryActivities.push({
                title: activityTitle,
                image: activityImage
            });
        });


        fetch('/user/cms', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        })
        .catch((error) => {
            console.log(formData);
            
            console.error('Error:', error);
            // Optionally handle error (e.g., display an error message)
        });

        console.log(formData); // Output the JSON object
    })
    */
    
    const addPrePrimaryCard = document.getElementById('addPrePrimaryCard');
    const prePrimaryCards = document.getElementById('prePrimaryCards');

    addPrePrimaryCard.addEventListener('click', e => {
        e.preventDefault()
        const cardHTML = `
            <div class="card">
                <div class="card-body">
                    <label class="form-label">Image Upload for Pre-Primary Activity</label>
                    <input type="file" class="form-control mb-2" name='prePrimaryCardImage' accept="image/*">
                    <label class="form-label">Title for Pre-Primary Activity</label>
                    <input type="text" class="form-control" name='prePrimaryCardTitle' placeholder="Activity Title">
                </div>
            </div>`;
        prePrimaryCards.insertAdjacentHTML('beforeend', cardHTML);
    });

    const addPrimaryCard = document.getElementById('addPrimaryCard');
    const primaryCards = document.getElementById('primaryCards');

    addPrimaryCard.addEventListener('click', e => {
        e.preventDefault()
        const cardHTML = `
            <div class="card">
                <div class="card-body">
                    <label class="form-label">Image Upload for Primary Activity</label>
                    <input type="file" class="form-control mb-2" name='primaryCardImage'accept="image/*">
                    <label class="form-label">Title for Primary Activity</label>
                    <input type="text" class="form-control" name='primaryCardImage' placeholder="Activity Title">
                </div>
            </div>`;
        primaryCards.insertAdjacentHTML('beforeend', cardHTML);
    });
    </script>
</body>
</html>
